# coding=utf-8
# *** WARNING: this file was generated by pulumi-language-python. ***
# *** Do not edit by hand unless you're certain you know what you are doing! ***

import builtins as _builtins
import warnings
import sys
import pulumi
import pulumi.runtime
from typing import Any, Mapping, Optional, Sequence, Union, overload
if sys.version_info >= (3, 11):
    from typing import NotRequired, TypedDict, TypeAlias
else:
    from typing_extensions import NotRequired, TypedDict, TypeAlias
from .. import _utilities

__all__ = [
    'GetSubflowResult',
    'AwaitableGetSubflowResult',
    'get_subflow',
    'get_subflow_output',
]

@pulumi.output_type
class GetSubflowResult:
    """
    A collection of values returned by getSubflow.
    """
    def __init__(__self__, alias=None, authenticator=None, description=None, id=None, parent_flow_alias=None, priority=None, provider_id=None, realm_id=None, requirement=None):
        if alias and not isinstance(alias, str):
            raise TypeError("Expected argument 'alias' to be a str")
        pulumi.set(__self__, "alias", alias)
        if authenticator and not isinstance(authenticator, str):
            raise TypeError("Expected argument 'authenticator' to be a str")
        pulumi.set(__self__, "authenticator", authenticator)
        if description and not isinstance(description, str):
            raise TypeError("Expected argument 'description' to be a str")
        pulumi.set(__self__, "description", description)
        if id and not isinstance(id, str):
            raise TypeError("Expected argument 'id' to be a str")
        pulumi.set(__self__, "id", id)
        if parent_flow_alias and not isinstance(parent_flow_alias, str):
            raise TypeError("Expected argument 'parent_flow_alias' to be a str")
        pulumi.set(__self__, "parent_flow_alias", parent_flow_alias)
        if priority and not isinstance(priority, int):
            raise TypeError("Expected argument 'priority' to be a int")
        pulumi.set(__self__, "priority", priority)
        if provider_id and not isinstance(provider_id, str):
            raise TypeError("Expected argument 'provider_id' to be a str")
        pulumi.set(__self__, "provider_id", provider_id)
        if realm_id and not isinstance(realm_id, str):
            raise TypeError("Expected argument 'realm_id' to be a str")
        pulumi.set(__self__, "realm_id", realm_id)
        if requirement and not isinstance(requirement, str):
            raise TypeError("Expected argument 'requirement' to be a str")
        pulumi.set(__self__, "requirement", requirement)

    @_builtins.property
    @pulumi.getter
    def alias(self) -> Optional[_builtins.str]:
        """
        The alias of the subflow.
        """
        return pulumi.get(self, "alias")

    @_builtins.property
    @pulumi.getter
    def authenticator(self) -> _builtins.str:
        return pulumi.get(self, "authenticator")

    @_builtins.property
    @pulumi.getter
    def description(self) -> _builtins.str:
        """
        The description of the subflow.
        """
        return pulumi.get(self, "description")

    @_builtins.property
    @pulumi.getter
    def id(self) -> _builtins.str:
        """
        The unique ID of the authentication subflow.
        """
        return pulumi.get(self, "id")

    @_builtins.property
    @pulumi.getter(name="parentFlowAlias")
    def parent_flow_alias(self) -> _builtins.str:
        return pulumi.get(self, "parent_flow_alias")

    @_builtins.property
    @pulumi.getter
    def priority(self) -> _builtins.int:
        """
        (Keycloak 25+) The priority of the subflow within its parent flow.
        """
        return pulumi.get(self, "priority")

    @_builtins.property
    @pulumi.getter(name="providerId")
    def provider_id(self) -> _builtins.str:
        """
        The provider ID for the subflow (e.g., `basic-flow`, `form-flow`, or `client-flow`).
        """
        return pulumi.get(self, "provider_id")

    @_builtins.property
    @pulumi.getter(name="realmId")
    def realm_id(self) -> _builtins.str:
        return pulumi.get(self, "realm_id")

    @_builtins.property
    @pulumi.getter
    def requirement(self) -> _builtins.str:
        """
        The requirement setting for the subflow. Can be one of `REQUIRED`, `ALTERNATIVE`, `OPTIONAL`, `CONDITIONAL`, or `DISABLED`.
        """
        return pulumi.get(self, "requirement")


class AwaitableGetSubflowResult(GetSubflowResult):
    # pylint: disable=using-constant-test
    def __await__(self):
        if False:
            yield self
        return GetSubflowResult(
            alias=self.alias,
            authenticator=self.authenticator,
            description=self.description,
            id=self.id,
            parent_flow_alias=self.parent_flow_alias,
            priority=self.priority,
            provider_id=self.provider_id,
            realm_id=self.realm_id,
            requirement=self.requirement)


def get_subflow(alias: Optional[_builtins.str] = None,
                id: Optional[_builtins.str] = None,
                parent_flow_alias: Optional[_builtins.str] = None,
                realm_id: Optional[_builtins.str] = None,
                opts: Optional[pulumi.InvokeOptions] = None) -> AwaitableGetSubflowResult:
    """
    This data source can be used to fetch the details of an authentication subflow within Keycloak.

    An authentication subflow is a nested flow within a parent authentication flow that groups related authentication steps together.

    ## Example Usage

    ### Lookup by Alias (Human-readable)

    ```python
    import pulumi
    import pulumi_keycloak as keycloak

    realm = keycloak.Realm("realm",
        realm="my-realm",
        enabled=True)
    my_flow = keycloak.authentication.Flow("my_flow",
        realm_id=realm.id,
        alias="my-custom-flow")
    my_subflow = keycloak.authentication.Subflow("my_subflow",
        realm_id=realm.id,
        parent_flow_alias=my_flow.alias,
        alias="my-subflow",
        provider_id="basic-flow")
    subflow = keycloak.authentication.get_subflow_output(realm_id=realm.id,
        parent_flow_alias=my_flow.alias,
        alias="my-subflow")
    pulumi.export("subflowId", subflow.id)
    ```

    ### Lookup by ID (Direct)

    ```python
    import pulumi
    import pulumi_keycloak as keycloak

    subflow = keycloak.authentication.get_subflow(realm_id="my-realm-id",
        parent_flow_alias="browser",
        id="a1b2c3d4-e5f6-7890-abcd-ef1234567890")
    pulumi.export("subflowAlias", subflow.alias)
    ```


    :param _builtins.str alias: The alias of the authentication subflow. Either `id` or `alias` must be specified.
           
           > **Note:** You must specify either `id` or `alias`, but not both. Use `id` for direct lookup by GUID, or `alias` for human-readable lookup by name.
    :param _builtins.str id: The unique ID of the authentication subflow. Either `id` or `alias` must be specified.
    :param _builtins.str parent_flow_alias: The alias of the parent authentication flow.
    :param _builtins.str realm_id: The realm the authentication subflow exists in.
    """
    __args__ = dict()
    __args__['alias'] = alias
    __args__['id'] = id
    __args__['parentFlowAlias'] = parent_flow_alias
    __args__['realmId'] = realm_id
    opts = pulumi.InvokeOptions.merge(_utilities.get_invoke_opts_defaults(), opts)
    __ret__ = pulumi.runtime.invoke('keycloak:authentication/getSubflow:getSubflow', __args__, opts=opts, typ=GetSubflowResult).value

    return AwaitableGetSubflowResult(
        alias=pulumi.get(__ret__, 'alias'),
        authenticator=pulumi.get(__ret__, 'authenticator'),
        description=pulumi.get(__ret__, 'description'),
        id=pulumi.get(__ret__, 'id'),
        parent_flow_alias=pulumi.get(__ret__, 'parent_flow_alias'),
        priority=pulumi.get(__ret__, 'priority'),
        provider_id=pulumi.get(__ret__, 'provider_id'),
        realm_id=pulumi.get(__ret__, 'realm_id'),
        requirement=pulumi.get(__ret__, 'requirement'))
def get_subflow_output(alias: Optional[pulumi.Input[Optional[_builtins.str]]] = None,
                       id: Optional[pulumi.Input[Optional[_builtins.str]]] = None,
                       parent_flow_alias: Optional[pulumi.Input[_builtins.str]] = None,
                       realm_id: Optional[pulumi.Input[_builtins.str]] = None,
                       opts: Optional[Union[pulumi.InvokeOptions, pulumi.InvokeOutputOptions]] = None) -> pulumi.Output[GetSubflowResult]:
    """
    This data source can be used to fetch the details of an authentication subflow within Keycloak.

    An authentication subflow is a nested flow within a parent authentication flow that groups related authentication steps together.

    ## Example Usage

    ### Lookup by Alias (Human-readable)

    ```python
    import pulumi
    import pulumi_keycloak as keycloak

    realm = keycloak.Realm("realm",
        realm="my-realm",
        enabled=True)
    my_flow = keycloak.authentication.Flow("my_flow",
        realm_id=realm.id,
        alias="my-custom-flow")
    my_subflow = keycloak.authentication.Subflow("my_subflow",
        realm_id=realm.id,
        parent_flow_alias=my_flow.alias,
        alias="my-subflow",
        provider_id="basic-flow")
    subflow = keycloak.authentication.get_subflow_output(realm_id=realm.id,
        parent_flow_alias=my_flow.alias,
        alias="my-subflow")
    pulumi.export("subflowId", subflow.id)
    ```

    ### Lookup by ID (Direct)

    ```python
    import pulumi
    import pulumi_keycloak as keycloak

    subflow = keycloak.authentication.get_subflow(realm_id="my-realm-id",
        parent_flow_alias="browser",
        id="a1b2c3d4-e5f6-7890-abcd-ef1234567890")
    pulumi.export("subflowAlias", subflow.alias)
    ```


    :param _builtins.str alias: The alias of the authentication subflow. Either `id` or `alias` must be specified.
           
           > **Note:** You must specify either `id` or `alias`, but not both. Use `id` for direct lookup by GUID, or `alias` for human-readable lookup by name.
    :param _builtins.str id: The unique ID of the authentication subflow. Either `id` or `alias` must be specified.
    :param _builtins.str parent_flow_alias: The alias of the parent authentication flow.
    :param _builtins.str realm_id: The realm the authentication subflow exists in.
    """
    __args__ = dict()
    __args__['alias'] = alias
    __args__['id'] = id
    __args__['parentFlowAlias'] = parent_flow_alias
    __args__['realmId'] = realm_id
    opts = pulumi.InvokeOutputOptions.merge(_utilities.get_invoke_opts_defaults(), opts)
    __ret__ = pulumi.runtime.invoke_output('keycloak:authentication/getSubflow:getSubflow', __args__, opts=opts, typ=GetSubflowResult)
    return __ret__.apply(lambda __response__: GetSubflowResult(
        alias=pulumi.get(__response__, 'alias'),
        authenticator=pulumi.get(__response__, 'authenticator'),
        description=pulumi.get(__response__, 'description'),
        id=pulumi.get(__response__, 'id'),
        parent_flow_alias=pulumi.get(__response__, 'parent_flow_alias'),
        priority=pulumi.get(__response__, 'priority'),
        provider_id=pulumi.get(__response__, 'provider_id'),
        realm_id=pulumi.get(__response__, 'realm_id'),
        requirement=pulumi.get(__response__, 'requirement')))
