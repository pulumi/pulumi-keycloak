// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package authentication

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-keycloak/sdk/v6/go/keycloak/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This data source can be used to fetch the details of an authentication subflow within Keycloak.
//
// An authentication subflow is a nested flow within a parent authentication flow that groups related authentication steps together.
//
// ## Example Usage
//
// ### Lookup by Alias (Human-readable)
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-keycloak/sdk/v6/go/keycloak"
//	"github.com/pulumi/pulumi-keycloak/sdk/v6/go/keycloak/authentication"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			realm, err := keycloak.NewRealm(ctx, "realm", &keycloak.RealmArgs{
//				Realm:   pulumi.String("my-realm"),
//				Enabled: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			myFlow, err := authentication.NewFlow(ctx, "my_flow", &authentication.FlowArgs{
//				RealmId: realm.ID(),
//				Alias:   pulumi.String("my-custom-flow"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = authentication.NewSubflow(ctx, "my_subflow", &authentication.SubflowArgs{
//				RealmId:         realm.ID(),
//				ParentFlowAlias: myFlow.Alias,
//				Alias:           pulumi.String("my-subflow"),
//				ProviderId:      pulumi.String("basic-flow"),
//			})
//			if err != nil {
//				return err
//			}
//			subflow := authentication.LookupSubflowOutput(ctx, authentication.GetSubflowOutputArgs{
//				RealmId:         realm.ID(),
//				ParentFlowAlias: myFlow.Alias,
//				Alias:           pulumi.String("my-subflow"),
//			}, nil)
//			ctx.Export("subflowId", subflow.ApplyT(func(subflow authentication.GetSubflowResult) (*string, error) {
//				return &subflow.Id, nil
//			}).(pulumi.StringPtrOutput))
//			return nil
//		})
//	}
//
// ```
//
// ### Lookup by ID (Direct)
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-keycloak/sdk/v6/go/keycloak/authentication"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			subflow, err := authentication.LookupSubflow(ctx, &authentication.LookupSubflowArgs{
//				RealmId:         "my-realm-id",
//				ParentFlowAlias: "browser",
//				Id:              pulumi.StringRef("a1b2c3d4-e5f6-7890-abcd-ef1234567890"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			ctx.Export("subflowAlias", subflow.Alias)
//			return nil
//		})
//	}
//
// ```
func LookupSubflow(ctx *pulumi.Context, args *LookupSubflowArgs, opts ...pulumi.InvokeOption) (*LookupSubflowResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupSubflowResult
	err := ctx.Invoke("keycloak:authentication/getSubflow:getSubflow", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getSubflow.
type LookupSubflowArgs struct {
	// The alias of the authentication subflow. Either `id` or `alias` must be specified.
	//
	// > **Note:** You must specify either `id` or `alias`, but not both. Use `id` for direct lookup by GUID, or `alias` for human-readable lookup by name.
	Alias *string `pulumi:"alias"`
	// The unique ID of the authentication subflow. Either `id` or `alias` must be specified.
	Id *string `pulumi:"id"`
	// The alias of the parent authentication flow.
	ParentFlowAlias string `pulumi:"parentFlowAlias"`
	// The realm the authentication subflow exists in.
	RealmId string `pulumi:"realmId"`
}

// A collection of values returned by getSubflow.
type LookupSubflowResult struct {
	// The alias of the subflow.
	Alias         *string `pulumi:"alias"`
	Authenticator string  `pulumi:"authenticator"`
	// The description of the subflow.
	Description string `pulumi:"description"`
	// The unique ID of the authentication subflow.
	Id              string `pulumi:"id"`
	ParentFlowAlias string `pulumi:"parentFlowAlias"`
	// (Keycloak 25+) The priority of the subflow within its parent flow.
	Priority int `pulumi:"priority"`
	// The provider ID for the subflow (e.g., `basic-flow`, `form-flow`, or `client-flow`).
	ProviderId string `pulumi:"providerId"`
	RealmId    string `pulumi:"realmId"`
	// The requirement setting for the subflow. Can be one of `REQUIRED`, `ALTERNATIVE`, `OPTIONAL`, `CONDITIONAL`, or `DISABLED`.
	Requirement string `pulumi:"requirement"`
}

func LookupSubflowOutput(ctx *pulumi.Context, args LookupSubflowOutputArgs, opts ...pulumi.InvokeOption) LookupSubflowResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (LookupSubflowResultOutput, error) {
			args := v.(LookupSubflowArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("keycloak:authentication/getSubflow:getSubflow", args, LookupSubflowResultOutput{}, options).(LookupSubflowResultOutput), nil
		}).(LookupSubflowResultOutput)
}

// A collection of arguments for invoking getSubflow.
type LookupSubflowOutputArgs struct {
	// The alias of the authentication subflow. Either `id` or `alias` must be specified.
	//
	// > **Note:** You must specify either `id` or `alias`, but not both. Use `id` for direct lookup by GUID, or `alias` for human-readable lookup by name.
	Alias pulumi.StringPtrInput `pulumi:"alias"`
	// The unique ID of the authentication subflow. Either `id` or `alias` must be specified.
	Id pulumi.StringPtrInput `pulumi:"id"`
	// The alias of the parent authentication flow.
	ParentFlowAlias pulumi.StringInput `pulumi:"parentFlowAlias"`
	// The realm the authentication subflow exists in.
	RealmId pulumi.StringInput `pulumi:"realmId"`
}

func (LookupSubflowOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupSubflowArgs)(nil)).Elem()
}

// A collection of values returned by getSubflow.
type LookupSubflowResultOutput struct{ *pulumi.OutputState }

func (LookupSubflowResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupSubflowResult)(nil)).Elem()
}

func (o LookupSubflowResultOutput) ToLookupSubflowResultOutput() LookupSubflowResultOutput {
	return o
}

func (o LookupSubflowResultOutput) ToLookupSubflowResultOutputWithContext(ctx context.Context) LookupSubflowResultOutput {
	return o
}

// The alias of the subflow.
func (o LookupSubflowResultOutput) Alias() pulumi.StringPtrOutput {
	return o.ApplyT(func(v LookupSubflowResult) *string { return v.Alias }).(pulumi.StringPtrOutput)
}

func (o LookupSubflowResultOutput) Authenticator() pulumi.StringOutput {
	return o.ApplyT(func(v LookupSubflowResult) string { return v.Authenticator }).(pulumi.StringOutput)
}

// The description of the subflow.
func (o LookupSubflowResultOutput) Description() pulumi.StringOutput {
	return o.ApplyT(func(v LookupSubflowResult) string { return v.Description }).(pulumi.StringOutput)
}

// The unique ID of the authentication subflow.
func (o LookupSubflowResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupSubflowResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o LookupSubflowResultOutput) ParentFlowAlias() pulumi.StringOutput {
	return o.ApplyT(func(v LookupSubflowResult) string { return v.ParentFlowAlias }).(pulumi.StringOutput)
}

// (Keycloak 25+) The priority of the subflow within its parent flow.
func (o LookupSubflowResultOutput) Priority() pulumi.IntOutput {
	return o.ApplyT(func(v LookupSubflowResult) int { return v.Priority }).(pulumi.IntOutput)
}

// The provider ID for the subflow (e.g., `basic-flow`, `form-flow`, or `client-flow`).
func (o LookupSubflowResultOutput) ProviderId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupSubflowResult) string { return v.ProviderId }).(pulumi.StringOutput)
}

func (o LookupSubflowResultOutput) RealmId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupSubflowResult) string { return v.RealmId }).(pulumi.StringOutput)
}

// The requirement setting for the subflow. Can be one of `REQUIRED`, `ALTERNATIVE`, `OPTIONAL`, `CONDITIONAL`, or `DISABLED`.
func (o LookupSubflowResultOutput) Requirement() pulumi.StringOutput {
	return o.ApplyT(func(v LookupSubflowResult) string { return v.Requirement }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupSubflowResultOutput{})
}
